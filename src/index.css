@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* OURA-STYLE: True black for OLED */
    --background: 0 0% 0%;
    --foreground: 0 0% 95%;

    /* iOS Dark Gray for cards */
    --card: 0 0% 11%;
    --card-foreground: 0 0% 95%;

    --popover: 0 0% 11%;
    --popover-foreground: 0 0% 95%;

    /* Bio-gradient anchor colors */
    --bio-teal: 175 60% 50%;
    --bio-blue: 210 80% 55%;
    --bio-purple: 270 60% 55%;
    --bio-pink: 330 70% 60%;
    --bio-orange: 25 90% 55%;
    --bio-gold: 45 90% 55%;

    /* Primary: Teal-Blue gradient anchor */
    --primary: 175 60% 50%;
    --primary-foreground: 0 0% 0%;

    /* Secondary: Purple-Pink */
    --secondary: 270 60% 55%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 50%;

    --accent: 175 60% 50%;
    --accent-foreground: 0 0% 0%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 95%;

    --border: 0 0% 18%;
    --input: 0 0% 18%;
    --ring: 175 60% 50%;
    --ring-bg: 0 0% 20%;

    --radius: 24px;

    /* Legacy neon colors (for compatibility) */
    --neon-cyan: 175 60% 50%;
    --neon-cyan-glow: 175 60% 60%;
    --neon-magenta: 330 70% 60%;
    --neon-magenta-glow: 330 70% 70%;
    --neon-gold: 45 90% 55%;
    --neon-gold-glow: 45 90% 65%;
    --deep-purple: 0 0% 0%;
    --cosmic-purple: 0 0% 4%;
    --warning: 25 90% 55%;
    --success: 160 60% 45%;

    /* Game theme colors (bio-gradient style) */
    --game-math: 175 60% 50%;
    --game-math-accent: 210 80% 55%;
    --game-color: 330 70% 60%;
    --game-color-accent: 270 60% 55%;
    --game-memory: 270 60% 55%;
    --game-memory-accent: 330 70% 60%;
    --game-direction: 25 90% 55%;
    --game-direction-accent: 45 90% 55%;
    --game-pattern: 210 80% 55%;
    --game-pattern-accent: 175 60% 50%;

    /* Smoked glass effects */
    --glass-bg: 0 0% 6%;
    --glass-border: 0 0% 18%;
    
    /* Subtle shadows */
    --shadow-soft: 0 4px 20px hsl(0 0% 0% / 0.5);
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 95%;
  }
}

@layer base {
  * {
    @apply border-border;
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  html {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    overscroll-behavior: none;
    overscroll-behavior-y: none;
    -webkit-overflow-scrolling: touch;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Helvetica Neue', Arial, sans-serif;
    min-height: 100vh;
    min-height: 100dvh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Prevent zoom on iOS */
  input, select, textarea {
    font-size: 16px !important;
    -webkit-user-select: text;
    user-select: text;
  }

  /* Allow text selection in specific elements */
  p, span, h1, h2, h3, h4, h5, h6 {
    -webkit-user-select: none;
    user-select: none;
  }

  /* Ensure inputs are selectable */
  input, textarea {
    -webkit-user-select: text;
    user-select: text;
  }
}

@layer components {
  /* Smoked glassmorphism - darker, subtler */
  .card-smoked {
    background: hsl(0 0% 11% / 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid hsl(0 0% 20% / 0.5);
    border-radius: 24px;
  }

  .card-smoked-hover:hover {
    border-color: hsl(var(--bio-teal) / 0.3);
    background: hsl(0 0% 13% / 0.95);
  }

  /* Legacy glass (for compatibility) */
  .card-glass {
    background: hsl(0 0% 11% / 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid hsl(0 0% 20% / 0.5);
    border-radius: 24px;
  }

  .card-glass-hover:hover {
    border-color: hsl(var(--bio-teal) / 0.3);
  }

  /* Bio-gradient text */
  .text-gradient-logic {
    background: linear-gradient(135deg, hsl(var(--bio-teal)) 0%, hsl(var(--bio-blue)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-memory {
    background: linear-gradient(135deg, hsl(var(--bio-purple)) 0%, hsl(var(--bio-pink)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-speed {
    background: linear-gradient(135deg, hsl(var(--bio-orange)) 0%, hsl(var(--bio-gold)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Legacy gradients */
  .text-gradient-neon {
    background: linear-gradient(135deg, hsl(var(--bio-teal)) 0%, hsl(var(--bio-blue)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-gold {
    background: linear-gradient(135deg, hsl(var(--bio-orange)) 0%, hsl(var(--bio-gold)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Subtle glow effects */
  .glow-teal {
    box-shadow: 0 0 20px hsl(var(--bio-teal) / 0.3);
  }

  .glow-purple {
    box-shadow: 0 0 20px hsl(var(--bio-purple) / 0.3);
  }

  .glow-orange {
    box-shadow: 0 0 20px hsl(var(--bio-orange) / 0.3);
  }

  /* Legacy glow */
  .glow-cyan {
    box-shadow: 0 0 20px hsl(var(--bio-teal) / 0.3);
  }

  .glow-magenta {
    box-shadow: 0 0 20px hsl(var(--bio-purple) / 0.3);
  }

  .glow-gold {
    box-shadow: 0 0 20px hsl(var(--bio-gold) / 0.3);
  }

  .text-glow-cyan {
    text-shadow: 0 0 10px hsl(var(--bio-teal) / 0.5);
  }

  .text-glow-magenta {
    text-shadow: 0 0 10px hsl(var(--bio-purple) / 0.5);
  }

  .text-glow-gold {
    text-shadow: 0 0 10px hsl(var(--bio-gold) / 0.5);
  }

  /* Premium primary button - subtle, elegant */
  .btn-primary-glow {
    background: linear-gradient(135deg, hsl(var(--bio-teal)) 0%, hsl(var(--bio-blue)) 100%);
    color: hsl(0 0% 0%);
    font-weight: 500;
    box-shadow: 0 0 30px hsl(var(--bio-teal) / 0.25);
    transition: all 0.3s ease;
  }

  .btn-primary-glow:hover {
    box-shadow: 0 0 40px hsl(var(--bio-teal) / 0.4);
    transform: translateY(-1px);
  }

  .btn-primary-glow:active {
    transform: scale(0.98) translateY(0);
  }

  /* Secondary button */
  .btn-secondary-glow {
    background: hsl(0 0% 5% / 0.8);
    border: 1px solid hsl(var(--bio-purple) / 0.4);
    color: hsl(var(--bio-purple));
    box-shadow: 0 0 15px hsl(var(--bio-purple) / 0.15);
    transition: all 0.3s ease;
  }

  .btn-secondary-glow:hover {
    border-color: hsl(var(--bio-purple) / 0.6);
    box-shadow: 0 0 25px hsl(var(--bio-purple) / 0.25);
  }

  /* Energy cell button - smoked glass style */
  .btn-energy-cell {
    background: hsl(0 0% 11% / 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid hsl(var(--bio-teal) / 0.3);
    box-shadow: 0 0 10px hsl(var(--bio-teal) / 0.1);
    transition: all 0.15s ease;
    border-radius: 16px;
  }

  .btn-energy-cell:hover {
    border-color: hsl(var(--bio-teal) / 0.5);
    box-shadow: 0 0 20px hsl(var(--bio-teal) / 0.2);
  }

  .btn-energy-cell.correct {
    background: hsl(var(--bio-gold) / 0.15);
    border-color: hsl(var(--bio-gold) / 0.6);
    box-shadow: 0 0 25px hsl(var(--bio-gold) / 0.3);
  }

  /* Circular progress glow - subtler */
  .progress-ring {
    filter: drop-shadow(0 0 8px hsl(var(--bio-teal) / 0.4));
  }

  /* Subtle pulse animations */
  .pulse-glow-cyan {
    animation: pulse-glow-subtle 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-glow-subtle {
    0%, 100% { 
      box-shadow: 0 0 20px hsl(var(--bio-teal) / 0.2);
    }
    50% { 
      box-shadow: 0 0 30px hsl(var(--bio-teal) / 0.35);
    }
  }

  /* Reactor core pulse - gentler */
  .reactor-pulse {
    animation: reactor-pulse 4s ease-in-out infinite;
  }

  @keyframes reactor-pulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 30px hsl(var(--bio-teal) / 0.3);
    }
    50% { 
      transform: scale(1.01);
      box-shadow: 0 0 45px hsl(var(--bio-teal) / 0.4);
    }
  }

  .mono {
    font-family: 'SF Mono', Menlo, Monaco, Consolas, monospace;
  }

  /* Ring legend labels */
  .ring-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .ring-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  .ring-dot-accuracy {
    background: linear-gradient(135deg, hsl(var(--bio-teal)), hsl(var(--bio-blue)));
  }

  .ring-dot-speed {
    background: linear-gradient(135deg, hsl(var(--bio-orange)), hsl(var(--bio-gold)));
  }

  .ring-dot-streak {
    background: linear-gradient(135deg, hsl(var(--bio-purple)), hsl(var(--bio-pink)));
  }
}

@layer utilities {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  .safe-all {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .border-glow-cyan {
    border: 1px solid hsl(var(--bio-teal) / 0.4);
    box-shadow: 0 0 15px hsl(var(--bio-teal) / 0.2);
  }

  .border-glow-gold {
    border: 1px solid hsl(var(--bio-gold) / 0.4);
    box-shadow: 0 0 15px hsl(var(--bio-gold) / 0.2);
  }

  /* Typography utilities for Oura style */
  .font-thin-label {
    font-weight: 200;
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .font-bold-value {
    font-weight: 600;
  }
}
